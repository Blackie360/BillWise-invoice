// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Invoice {
  id               Int      @id @default(autoincrement())
  company          String
  name             String
  postalCode       String?
  companyAddress   String
  city             String
  country          String
  clientCompany    String
  clientAddress    String
  clientCity       String
  clientCountry    String
  clientPostalCode String
  invoiceNumber    String
  invoiceDate      DateTime
  dueDate          DateTime
  logoUrl          String
  notes            String
  terms            String
  tableData        Row[]   // Define a one-to-many relationship to Row
}


model Row {
  id            Int       @id @default(autoincrement())
  itemDescription String
  qty            Int
  unitPrice      Float
  tax            Float
  amount         Float
  invoiceId      Int      // Define a foreign key relationship to Invoice
  invoice        Invoice  @relation(fields: [invoiceId], references: [id])
}